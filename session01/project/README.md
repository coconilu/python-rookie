# 交互式计算器项目

这是Session01的演示项目，一个功能完整的交互式计算器程序。

## 项目概述

本项目演示了Session01中学到的所有核心概念：
- 变量的定义和使用
- 用户输入输出操作
- 基本数学运算
- 错误处理机制
- 程序结构设计
- 函数的基本使用

## 功能特性

### 基本运算
- ✅ 加法运算 (add)
- ✅ 减法运算 (sub)
- ✅ 乘法运算 (mul)
- ✅ 除法运算 (div)

### 高级运算
- ✅ 幂运算 (pow)
- ✅ 开平方根 (sqrt)
- ✅ 绝对值 (abs)

### 辅助功能
- ✅ 计算历史记录
- ✅ 帮助系统
- ✅ 错误处理
- ✅ 美观的用户界面

## 运行方法

### 使用uv运行（推荐）
```bash
# 进入项目目录
cd session01/project

# 运行程序
uv run python main.py
```

### 直接运行
```bash
# 确保Python环境已激活
python main.py
```

## 使用说明

### 启动程序
运行程序后，你会看到欢迎界面：

```
╔══════════════════════════════════════════╗
║            交互式计算器 v1.0.0            ║
╠══════════════════════════════════════════╣
║  欢迎使用Python交互式计算器！            ║
║  支持基本运算和高级数学函数              ║
║  输入 'help' 查看帮助，'quit' 退出       ║
╚══════════════════════════════════════════╝
```

### 基本命令

#### 数学运算
```bash
# 加法
add 10 5        # 结果: 15

# 减法
sub 10 5        # 结果: 5

# 乘法
mul 10 5        # 结果: 50

# 除法
div 10 5        # 结果: 2.0

# 幂运算
pow 2 3         # 结果: 8 (2的3次方)

# 开平方根
sqrt 16         # 结果: 4.0

# 绝对值
abs -5          # 结果: 5
```

#### 辅助命令
```bash
# 查看帮助
help

# 查看计算历史
history

# 清除历史记录
clear

# 退出程序
quit
```

### 使用示例

```
🧮 请输入命令 (输入 'help' 查看帮助): add 15 25
✅ 结果: 15.0 + 25.0 = 40.0

🧮 请输入命令 (输入 'help' 查看帮助): sqrt 64
✅ 结果: √64.0 = 8.0

🧮 请输入命令 (输入 'help' 查看帮助): history

╔══════════════════════════════════════════╗
║                计算历史                  ║
╠══════════════════════════════════════════╣
║  1. 15.0 + 25.0 = 40.0                  ║
║  2. √64.0 = 8.0                         ║
╚══════════════════════════════════════════╝
```

## 错误处理

程序包含完善的错误处理机制：

### 输入错误
```bash
🧮 请输入命令: add abc 123
❌ 错误: could not convert string to float: abc
```

### 数学错误
```bash
🧮 请输入命令: div 10 0
❌ 错误: 除数不能为零

🧮 请输入命令: sqrt -4
❌ 错误: 负数不能开平方根
```

### 命令错误
```bash
🧮 请输入命令: unknown_command
❌ 未知命令: unknown_command
💡 输入 'help' 查看可用命令
```

## 代码结构

```
project/
├── main.py          # 主程序文件
└── README.md        # 项目说明文档
```

### 主要类和方法

#### Calculator类
- `__init__()` - 初始化计算器
- `display_welcome()` - 显示欢迎信息
- `display_help()` - 显示帮助信息
- `add()`, `subtract()`, `multiply()`, `divide()` - 基本运算
- `power()`, `square_root()`, `absolute()` - 高级运算
- `process_command()` - 处理用户命令
- `run()` - 主运行循环

## 学习要点

通过这个项目，你将学会：

1. **程序结构设计**
   - 如何组织代码
   - 类和方法的使用
   - 主程序入口点

2. **用户交互**
   - 输入输出操作
   - 命令解析
   - 用户友好的界面设计

3. **错误处理**
   - try-except语句
   - 不同类型错误的处理
   - 用户输入验证

4. **数据管理**
   - 列表的使用（历史记录）
   - 字符串处理
   - 类型转换

5. **代码规范**
   - 函数文档字符串
   - 变量命名规范
   - 代码注释

## 扩展练习

完成基本功能后，你可以尝试添加：

1. **更多数学函数**
   - 三角函数 (sin, cos, tan)
   - 对数函数 (log, ln)
   - 阶乘函数

2. **表达式计算**
   - 支持复杂表达式如 "2 + 3 * 4"
   - 括号支持

3. **数据持久化**
   - 将历史记录保存到文件
   - 程序重启后恢复历史

4. **界面美化**
   - 添加颜色输出
   - 更丰富的ASCII艺术
   - 进度条和动画效果

## 常见问题

### Q: 程序无法启动？
A: 确保Python环境正确安装，并且在正确的目录下运行程序。

### Q: 如何退出程序？
A: 输入 `quit` 命令，或者按 `Ctrl+C`。

### Q: 计算结果不准确？
A: 这可能是浮点数精度问题，这是正常现象。在实际应用中可以使用decimal模块提高精度。

### Q: 如何添加新的运算功能？
A: 在Calculator类中添加新的方法，然后在process_command方法中添加对应的命令处理逻辑。

---

**恭喜！** 你已经完成了第一个完整的Python项目。这个计算器虽然简单，但包含了编程的核心概念。继续学习Session02，探索更多Python的奥秘吧！